<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Aster Fertility Concierge – NYC Guide</title>
  <link rel="icon" href="assets/aster-logo.png">
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
</head>
<body>
  <header class="header">
    <img src="assets/aster-logo.png" alt="Aster Fertility Concierge" class="logo">
    <h1>Aster Fertility Concierge</h1>
  </header>

  <main class="container">
    <!-- Intro / Blurb -->
    <section id="intro" class="card">
      <h2 class="section-title">Welcome to the Aster NYC Guide</h2>
      <p>
        The Aster NYC Guide is your insider’s compass to the city that never sleeps—designed just for you.
        Whether you’re here for medical screening, medical appointments, or your IVF transfer, we’ve mapped out local favorites near
        your clinic and hotel: cozy cafés, peaceful parks, good eats, and little ways to unwind between appointments. It’s our way
        of helping you feel cared for, connected, and comfortable while you’re here—because even a medical trip deserves
        a little <em>you-time</em>.
      </p>
    </section>

    <!-- How to use -->
    <section id="howtoBox" class="card">
      <h3 class="section-title">How to use</h3>
      <ol>
        <li>Select your NYC clinic from the dropdown below.</li>
        <li>Adjust the walking radius and (optionally) apply filters.</li>
        <li>Browse curated spots that are closest to you.</li>
      </ol>
    </section>

    <!-- Method & Reliability button -->
    <div class="method-btn-container">
      <button id="methodBtn" type="button" class="btn-accent">
        Method &amp; Reliability
      </button>
    </div>

    <!-- Clinic dropdown -->
    <section id="clinicBox" class="card">
      <h3 class="section-title">Select a Clinic</h3>
      <div class="helper-row">
        <label class="sr-only" for="clinicSelect">Clinic</label>
        <select id="clinicSelect" aria-label="Select your clinic">
          <option value="">Select a clinic…</option>
        </select>
      </div>

      <!-- Controls: walking radius + filters -->
      <div class="controls">
        <div class="control-group">
          <label for="radiusInput"><strong>Walking radius:</strong></label><br>
          <input id="radiusInput" type="range" min="300" max="2400" step="100" value="1200" aria-label="Walking radius in meters">
          <span id="radiusValue" class="muted">~15 min</span>
        </div>

        <div class="control-group">
          <h4>Filter by category</h4>
          <div data-filter-group="type" class="filters">
            <label><input type="checkbox" value="cafe" checked> Cafés</label>
            <label><input type="checkbox" value="bagels" checked> Bagels</label>
            <label><input type="checkbox" value="pizza" checked> Pizza</label>
            <label><input type="checkbox" value="restaurant" checked> Restaurants</label>
            <label><input type="checkbox" value="shopping" checked> Shopping</label>
            <label><input type="checkbox" value="things to do" checked> Things to do</label>
          </div>
        </div>
      </div>
    </section>

    <!-- Hotel / address nearby search -->
    <section id="nearbyBox" class="card">
      <h3 class="section-title">Check what's near your hotel</h3>
      <div class="nearby-row">
        <label class="sr-only" for="userAddress">Hotel or address</label>
        <input id="userAddress" type="text" placeholder="Enter your hotel or address…" aria-label="Enter your hotel or address" autocomplete="off">
        <button id="nearbyBtn" class="secondary" type="button">Find nearby</button>
      </div>
      <p class="muted" id="nearbyHint">
        Enter the name of your hotel (e.g., New York Hilton Midtown) or the address. We’ll show curated Manhattan spots within a short walk!
      </p>
      <p class="muted status" id="status" aria-live="polite"></p>
      <div id="nearbyResults" class="nearby-results"></div>
    </section>

    <!-- Results container (clinic-curated lists render here) -->
    <section id="results" aria-live="polite"></section>
  </main>

  <!-- Method & Reliability Modal -->
  <div id="methodModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="methodTitle">
      <button class="close-modal" id="closeModal" aria-label="Close modal">×</button>
      <h3 id="methodTitle">Method &amp; Reliability</h3>
      <div class="modal-body">
        <p><strong>Data source:</strong> All locations are curated manually and stored in the <code>places.json</code> file, grouped by category and clinic proximity.</p>
        <p><strong>Geocoding:</strong> Each address includes latitude and longitude so distances can be estimated from each clinic or your entered address.</p>
        <p><strong>Distance:</strong> Calculated using the Haversine formula to estimate straight-line distance between points.</p>
        <p><strong>Walking time:</strong> Estimated at approximately 80 meters per minute. Actual walking times will vary based on pace, traffic lights, sidewalks, and weather.</p>
        <p><strong>Filters:</strong> Category filters (e.g., cafés, bagels, pizza, shopping, things to do) and tags (e.g., vegetarian, gluten-free) narrow the list to what’s most relevant.</p>
        <p><strong>Disclaimer:</strong> This guide is intended to support your visit and provide nearby options, but it is not a guarantee of quality or current conditions. Please double-check hours, availability, and suitability before visiting.</p>
      </div>
    </div>
  </div>

  <!-- Live update the "~min" label next to the radius slider -->
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      const r = document.getElementById('radiusInput');
      const rv = document.getElementById('radiusValue');
      function updateLabel() {
        if (!r || !rv) return;
        const mins = (Number(r.value) / 80).toFixed(1);
        rv.textContent = `~${mins} min`;
      }
      if (r) {
        updateLabel();
        r.addEventListener('input', updateLabel);
      }
    });
  </script>
</body>
</html>
